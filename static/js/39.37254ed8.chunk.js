"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[39],{9039:function(e,n,t){t.r(n),t.d(n,{default:function(){return ne}});var r,s=t(9439),a=t(2791),o=t(9434),i=t(9164),c=t(890),l=t(6151),u=t(9504),d=t.n(u),m=t(7750),x=t(3044),h=t(4554),p=t(4708),f=t(1889),j=t(533),Z=t(7665),g=t(7107),b=t(4507),y=t(3634),v=function(e){return e.contacts.items},C=function(e){return e.contacts.error},w=t(184),M=(0,g.Z)(),S=function(e){var n=e.setOpenModal,t=e.setMessage,r=(0,o.I0)(),s=(0,o.v9)(v);return(0,w.jsx)(b.Z,{theme:M,children:(0,w.jsxs)(i.Z,{component:"main",maxWidth:"xs",children:[(0,w.jsx)(p.ZP,{}),(0,w.jsxs)(h.Z,{sx:{marginTop:"5px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,w.jsx)(x.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,w.jsx)(m.Z,{})}),(0,w.jsx)(c.Z,{component:"h1",variant:"h5",children:"New contact"}),(0,w.jsxs)(h.Z,{component:"form",onSubmit:function(e){e.preventDefault();var a=!1,o=new FormData(e.currentTarget),i={name:o.get("name"),number:o.get("phone")};if(s.forEach((function(e){e.name.toLowerCase()!==i.name.toLowerCase()&&e.number.toLowerCase()!==i.number.toLowerCase()||(a=!0)})),a)return t({message:"Such contact is already exist",type:"error"}),void setTimeout((function(){t(null)}),2e3);r((0,y.uK)({name:o.get("name"),number:o.get("phone")})),n(!1),t({type:"success",message:"Contact added successfully!"}),setTimeout((function(){t(null)}),2e3)},noValidate:!0,sx:{mt:1},children:[(0,w.jsx)(Z.Z,{margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Contact name",name:"name",autoComplete:"name",autoFocus:!0}),(0,w.jsx)(d(),{mask:"+38 (099) 999-99-99",children:function(e){return(0,w.jsx)(Z.Z,{margin:"normal",required:!0,fullWidth:!0,name:"phone",label:"Phone number",type:"text",id:"phone"})}}),(0,w.jsx)(l.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Add contact"}),(0,w.jsx)(f.ZP,{container:!0,children:(0,w.jsx)(f.ZP,{item:!0,xs:!0,children:(0,w.jsx)(j.Z,{href:"#",variant:"body2"})})})]})]})]})})},k=t(6711),P=t(1286),W=t(5764),q=t(2194),L=t(4852),T=t(653),D=t(9900),F=t(168),I=t(6088),E=t(7621),A=(0,I.Z)(E.Z)(r||(r=(0,F.Z)(["\n  width: 100%;\n  border-radius: 5px;\n  &:hover {\n    box-shadow: 0px 0px 0px 2px rgba(33, 149, 243, 1);\n  }\n"]))),O=function(e){var n=e.editContact,t=e.name,r=e.number,s=e.id,a=e.setMessage,c=(0,o.I0)();return(0,w.jsx)(f.ZP,{item:!0,xs:2,sm:4,md:4,children:(0,w.jsx)(A,{sx:{minWidth:100},children:(0,w.jsxs)(q.Z,{sx:{position:"relative",transition:"0.3s ease-in"},children:[(0,w.jsxs)(L.ZP,{children:[(0,w.jsx)(T.Z,{children:(0,w.jsx)(x.Z,{children:(0,w.jsx)(W.Z,{})})}),(0,w.jsx)(D.Z,{primary:t,secondary:r})]}),(0,w.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"center",gap:"10px"},children:[(0,w.jsx)(l.Z,{onClick:function(){n(s,t,r)},variant:"outlined",color:"success",children:(0,w.jsx)(P.Z,{})}),(0,w.jsx)(l.Z,{variant:"outlined",color:"error",onClick:function(){c((0,y.GK)(s)),a({message:"Contact successfully deleted",type:"success"}),setTimeout((function(){a(null)}),2e3)},children:(0,w.jsx)(k.Z,{})})]})]})})})},G=function(e){var n=e.editContact,t=e.contacts,r=e.setMessage;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(h.Z,{sx:{flexGrow:1,p:"20px"},children:(0,w.jsx)(f.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:2,sm:8,md:12},children:t.map((function(e){var t=e.id,s=e.name,a=e.number;return(0,w.jsx)(O,{name:s,number:a,id:t,editContact:n,setMessage:r},t)}))})})})},K=t(5861),V=t(4687),z=t.n(V),B=t(4865),N=(0,g.Z)(),_=function(e){var n=e.setMessage,t=e.setOpenModal,r=e.id,u=e.name,m=e.number,g=(0,a.useState)(u),C=(0,s.Z)(g,2),M=C[0],S=C[1],k=(0,a.useState)(m),P=(0,s.Z)(k,2),W=P[0],q=P[1],L=(0,o.I0)(),T=(0,o.v9)(v),D=function(){var e=(0,K.Z)(z().mark((function e(s){var a,o;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),a=!1,o={name:M,number:W},T.forEach((function(e){e.id===r||e.name.toLowerCase()!==o.name.toLowerCase()&&e.number.toLowerCase()!==o.number.toLowerCase()||(a=!0)})),!a){e.next=8;break}return n({message:"Such contact is already exist",type:"error"}),setTimeout((function(){n(null)}),2e3),e.abrupt("return");case 8:return e.next=10,L((0,y.mP)({id:r,contactData:{name:M,number:W}}));case 10:t(!1),L((0,y.yF)()),n({type:"success",message:"Contact edited successfully!"}),setTimeout((function(){n(null)}),2e3);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,w.jsx)(b.Z,{theme:N,children:(0,w.jsxs)(i.Z,{component:"main",maxWidth:"xs",children:[(0,w.jsx)(p.ZP,{}),(0,w.jsxs)(h.Z,{sx:{marginTop:"5px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,w.jsx)(x.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,w.jsx)(B.Z,{})}),(0,w.jsx)(c.Z,{component:"h1",variant:"h5",children:"Edit contact"}),(0,w.jsxs)(h.Z,{component:"form",onSubmit:D,noValidate:!0,sx:{mt:1},children:[(0,w.jsx)(Z.Z,{margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Contact name",name:"name",autoComplete:"name",autoFocus:!0,value:M,onChange:function(e){S(e.target.value)}}),(0,w.jsx)(d(),{mask:"+38 (099) 999-99-99",value:W,onChange:function(e){q(e.target.value)},children:function(e){return(0,w.jsx)(Z.Z,{margin:"normal",required:!0,fullWidth:!0,name:"phone",label:"Phone number",type:"text",id:"phone"})}}),(0,w.jsx)(l.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Edit contact"}),(0,w.jsx)(f.ZP,{container:!0,children:(0,w.jsx)(f.ZP,{item:!0,xs:!0,children:(0,w.jsx)(j.Z,{href:"#",variant:"body2"})})})]})]})]})})},H=t(4164),J=t(5857),Q=t(9658),R=function(e){var n=e.message,t=e.type,r=void 0===t?"error":t;return(0,w.jsx)(Q.Z,{severity:r,sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%)",transition:"all 0.5s linear",zIndex:"9999"},children:n})};var U=function(e){var n=e.message,t=e.type,r=(0,J.q_)((function(){return{from:{opacity:0},to:{opacity:1}}}),[]),a=(0,s.Z)(r,1)[0];return(0,H.createPortal)((0,w.jsx)(J.q.div,{style:a,children:(0,w.jsx)(R,{message:n,type:t})}),document.querySelector("#message-root"))},X=t(1413),Y=t(5391),$={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3},ee=function(e){var n=e.openModal,t=e.handleModalState,r=e.children;return(0,H.createPortal)((0,w.jsx)("div",{children:(0,w.jsx)(Y.Z,{open:n,onClose:function(){return t(!1)},"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,w.jsx)(h.Z,{sx:(0,X.Z)((0,X.Z)({},$),{},{width:400}),children:r})})}),document.querySelector("#message-root"))},ne=function(){var e=(0,a.useState)(!1),n=(0,s.Z)(e,2),t=n[0],r=n[1],u=(0,a.useState)(null),d=(0,s.Z)(u,2),m=d[0],x=d[1],h=(0,o.v9)(C),p=(0,a.useState)(null),f=(0,s.Z)(p,2),j=f[0],Z=f[1],g=(0,o.I0)(),b=(0,o.v9)(v);(0,a.useEffect)((function(){g((0,y.yF)())}),[g]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"center",flexDirection:"column"},children:[(0,w.jsx)(c.Z,{variant:"h2",gutterBottom:!0,sx:{textAlign:"center",pt:"20px"},children:"My contacts"}),(0,w.jsx)(l.Z,{onClick:function(){r(!0),x((0,w.jsx)(S,{setOpenModal:r,setMessage:Z}))},sx:{textAlign:"center",m:"0 20px"},variant:"contained",children:"Add contact"}),(0,w.jsx)(G,{editContact:function(e,n,t){r(!0),x((0,w.jsx)(_,{id:e,name:n,number:t,setOpenModal:r,setMessage:Z}))},contacts:b,setMessage:Z})]}),(0,w.jsx)(ee,{openModal:t,children:m,handleModalState:r}),j&&!h&&(0,w.jsx)(U,{type:j.type,message:j.message}),h&&(0,w.jsx)(U,{type:"error",message:"Something went wrong"})]})}}}]);
//# sourceMappingURL=39.37254ed8.chunk.js.map